<ion-header class="main-header shadow"> 
	<ion-toolbar>
		<ion-title class="ion-padding-start">Add Expense</ion-title>
	</ion-toolbar>
</ion-header>

<ion-progress-bar color="tertiary" type="indeterminate" *ngIf="Progress"></ion-progress-bar>

<ion-content class="ion-padding">
    <form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm.value)">
        <ion-item [ngClass]="{ 'ion-invalid': submitted && f.event_name.invalid,'ion-touched': submitted && f.event_name.invalid }">
          <ion-label position="floating">Spent on</ion-label>
            <ion-select formControlName="event_name" (cancel)="onCancel()" (ionChange)="Change($event.target.value)">
              <ion-select-option *ngFor="let val of total_option" [value]="val">{{val}}</ion-select-option>
              <!-- <ion-select-option [value]="More">Others</ion-select-option> -->
            </ion-select>
        </ion-item>
        <ion-item *ngIf="myForm.value['event_name']=='Others'" [ngClass]="{ 'ion-invalid': submitted && f.others.invalid,'ion-touched': submitted && f.others.invalid }">
          <ion-label position="floating">Expenses Type Name(Others)</ion-label>
          <ion-input type="text" formControlName="others"></ion-input>
        </ion-item>
        <ion-item [ngClass]="{ 'ion-invalid': submitted && f.value.invalid,'ion-touched': submitted && f.value.invalid }">
          <ion-label position="floating">Amount</ion-label>
          <ion-input type="tel" formControlName="value" (keypress)="_keyPress($event)"></ion-input>
        </ion-item>
        <!-- <ion-input formControlName="value" (keypress)="_keyPress($event)" placeholder="Value"></ion-input> -->
      
        <!-- <ion-item>
         <ion-label position="floating">DD MM YYYY</ion-label>
         <ion-datetime displayFormat="DD MMM YYYY" formControlName="event_datetime"></ion-datetime>
        </ion-item> -->
        <ion-item button>
          <ion-label position="floating">Spent Date</ion-label>
          <ion-datetime displayFormat="DD MMM YYYY" [min]="year" [max]="todaydate" formControlName="event_datetime"></ion-datetime>
          <ion-button>
            <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21"><path d="M18.539,1.641h-.984V0H15.914V1.641H5.086V0H3.445V1.641H2.461A2.464,2.464,0,0,0,0,4.1V18.539A2.464,2.464,0,0,0,2.461,21H18.539A2.464,2.464,0,0,0,21,18.539V4.1A2.464,2.464,0,0,0,18.539,1.641Zm.82,16.9a.821.821,0,0,1-.82.82H2.461a.821.821,0,0,1-.82-.82V7.711H19.359Zm0-12.469H1.641V4.1a.821.821,0,0,1,.82-.82h.984V4.922H5.086V3.281H15.914V4.922h1.641V3.281h.984a.821.821,0,0,1,.82.82Z" fill="#ea4e4e"/><g transform="translate(3.117 9.434)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(6.398 9.434)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(9.68 9.434)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(12.961 9.434)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(16.242 9.434)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(3.117 12.715)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(6.398 12.715)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(9.68 12.715)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(12.961 12.715)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(3.117 15.996)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(6.398 15.996)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(9.68 15.996)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(12.961 15.996)"><rect width="1.641" height="1.641" fill="#ea4e4e"/></g><g transform="translate(16.242 12.715)"><rect width="1.641"height="1.641" fill="#ea4e4e"/></g></svg>
          </ion-button>
        </ion-item>
        <ion-item>  
          <ion-label position="floating">Description</ion-label>
          <ion-textarea formControlName="description"></ion-textarea>
        </ion-item>
        <!-- <ion-input formControlName="description" placeholder="Enter Input"></ion-input> -->
        <div class="footer">
          <ion-button expand="block" (click)="cancel()" [disabled]="Progress">
            Cancel
          </ion-button>
          <button type="submit" class="btn_submit" [disabled]="Progress">
            Save
          </button>
        </div>
        <!-- <ion-button color="light" (click)="cancel()">Cancel</ion-button>
        <ion-button type="submit" color="success">Save</ion-button> -->
    </form>
</ion-content>

<ion-backdrop *ngIf="Progress"></ion-backdrop>